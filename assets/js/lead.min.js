var LeadSB=function(){"use strict";var e=$("#form-lead"),r=e.find(".btn").text(),o={lead:function(){$.ajax({type:"POST",url:site.url+"/template-parts/global/actions/send-lead.php",data:e.serialize(),beforeSend:function(){e.find(".form-control,.form-check-input").attr("readonly",!0),e.find(".btn").prop("disabled",!0).html("Registrando...")},success:n.lead,error:n.error,complete:function(){e.find(".form-control,.form-check-input").attr("readonly",!1),e.find(".btn").prop("disabled",!1).html(r)}})}},n={lead:function(e){"success"==e?($("#modal-lead").modal("hide"),SocialBase.sb_video.open("GFmZ-nE8yD8")):n.error()},error:function(){e.validate().showErrors({lead_email:"Desculpe, um erro ocorreu no envio do seu cadastro, por favor tente novamente"})}};return{init:function(){!function(){if(void 0!==$.fn.mask){var e=$("#lead_phone");e.bind("paste",function(e){e.preventDefault()});var r=function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},o={onKeyPress:function(e,o,n,a){n.mask(r.apply({},arguments),a)},clearIfNotMatch:!0};e.mask(r,o)}}(),e.validate({onfocusout:!1,errorPlacement:function(e,r){r.is(":radio")?r.closest(".form-group").append(e):e.insertAfter(r)},rules:{lead_email:{required:!0,email:!0},lead_name:{required:!0,minlength:8},lead_phone:{required:!0,minlength:15},lead_sector:{required:!0},lead_help:{required:!0}},messages:{lead_email:{required:"Informe seu e-mail",email:"Informe um e-mail válido"},lead_name:{required:"Informe seu nome",minlength:"O nome deve ser completo"},lead_phone:{required:"Informe seu telefone",minlength:"O número deve ser completo"},lead_sector:{required:"Informe o setor que você atua na empresa"},lead_help:{required:"Informe como podemos ajudar a sua empresa"}},submitHandler:o.lead})}}}();$(function(){LeadSB.init()});
