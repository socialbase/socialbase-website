var SocialBase=function(){"use strict";var e={init:function(){var i=$(".form-email");i.length>0&&e.validator(i)},validator:function(i){i.each(function(){$(this).validate({errorPlacement:function(e,i){i.parent().hasClass("input-group")&&!SocialBase.sb_mobile()?e.insertAfter(i.parent()):e.insertAfter(i)},rules:{email:{required:!0,email:!0}},messages:{email:{required:"Informe seu e-mail"}},submitHandler:e.submit})})},submit:function(e){var i=$(e),a=i.find(".btn").text();$.ajax({type:"POST",url:site.url+"/template-parts/global/actions/send-trial.php",data:i.serialize(),beforeSend:function(){i.find(".form-control").attr("readonly",!0),i.find(".btn").prop("disabled",!0).html("Registrando...")},success:function(e){"success"==e?i.unbind().submit():i.validate().showErrors({email:"Desculpe, um erro ocorreu no envio do seu cadastro, por favor tente novamente"})},complete:function(){i.find(".form-control").attr("readonly",!1),i.find(".btn").prop("disabled",!1).html(a)}})}};return{init:function(){var i,a,o,t;(i=$("#sidebar")).length>0&&(i.on("click","a",function(e){e.preventDefault(),SocialBase.sb_scrool($(this).attr("href"),-20)}),$("body").scrollspy({target:"#sidebar",offset:70})),function(){if(void 0!==$.fn.slick){var e=$(".features-slider");e.length>0&&(e.each(function(){$(this).slick({dots:!0,fade:!0,infinite:!1,slidesToShow:1,slidesToScroll:1,nextArrow:$(this).parents(".tab-pane").find(".slick-next"),prevArrow:$(this).parents(".tab-pane").find(".slick-prev"),responsive:[{breakpoint:480,settings:{dots:!1}}]}),$(this).on("beforeChange",function(e,i,a,o){var t=(o||0)+1;$(this).parents(".tab-pane").find(".slick-count").html(t<9?"0"+t:t)})}),$('.features a[data-toggle="tab"]').on("shown.bs.tab",function(){e.slick("refresh")}));var i=$(".clients-slider");i.length>0&&i.slick({arrows:!1,infinite:!0,autoplay:!0,slidesToShow:5,slidesToScroll:1,responsive:[{breakpoint:1200,settings:{slidesToShow:3}},{breakpoint:480,settings:{slidesToShow:1}}]});var a=$(".overview-slider");a.length>0&&a.slick({arrows:!1,infinite:!0,autoplay:!0,autoplaySpeed:3e3,speed:500,fade:!0,cssEase:"linear"})}}(),(a=$(".navigation")).length>0&&($(window).on("load scroll",function(){$(this).scrollTop()>$("header").outerHeight(!0)+$(".hero").outerHeight(!0)-100?a.slideDown("fast"):a.slideUp("fast")}),$("body").scrollspy({target:"#navigation",offset:180}),a.on("click",".nav-item:not(:last-child) > a",function(e){e.preventDefault();var i=$(this).attr("href"),a=-70;"#funcionalidades"===i&&(a=-150),SocialBase.sb_scrool(i,a),SocialBase.sb_mobile()&&$(".navbar-toggler").trigger("click")})),o=$(".culture"),t=$(".culture-slider"),o.length>0&&$.getJSON("https://www.instagram.com/socialbasebr/?__a=1",e=>{let i=e.graphql.user.edge_owner_to_timeline_media.edges;0!=i.length?(i.forEach(e=>{e=e.node,t.append('<figure class="col"><a href="https://www.instagram.com/p/'+e.shortcode+'/" target="_blank"><img src="'+e.display_url+'" class="img-fluid" alt="'+e.accessibility_caption+'" /></a></figure>')}),t.slick({arrows:!1,centerMode:!0,centerPadding:"90px",infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3,responsive:[{breakpoint:1400,settings:{centerPadding:"40px",slidesToShow:3}},{breakpoint:1200,settings:{centerPadding:"40px",slidesToShow:2}},{breakpoint:480,settings:{centerPadding:"0px",slidesToShow:1}}]}),o.slideDown("fast")):console.log("Nenhuma postagem deste usuário.")}).fail(function(){console.log("Nome de usuário inválido ou uma conta privada.")}),e.init(),SocialBase.sb_video.init()},sb_mobile:function(){return $(window).width()<=768},sb_scrool:function(e,i=0){$(e).length>0&&$("html,body").animate({scrollTop:$(e).offset().top+parseInt(i)},500)},sb_video:{init:function(){$("[data-video]").on("click",function(){var e=$(this).attr("data-video");SocialBase.sb_video.open(e)})},open:function(e=null){var i=$(".modal-video");if(0===i.length){'<div class="modal fade modal-video" data-backdrop="static" data-keyboard="false" aria-hidden="true">',' <div class="modal-dialog modal-lg">','   <div class="modal-content">','     <div class="modal-header">','       <button type="button" class="close" data-dismiss="modal">','         <span aria-hidden="true">&times;</span>',"       </button>","     </div>",'     <div class="modal-body"></div>',"   </div>"," </div>","</div>",$("body").append('<div class="modal fade modal-video" data-backdrop="static" data-keyboard="false" aria-hidden="true"> <div class="modal-dialog modal-lg">   <div class="modal-content">     <div class="modal-header">       <button type="button" class="close" data-dismiss="modal">         <span aria-hidden="true">&times;</span>       </button>     </div>     <div class="modal-body"></div>   </div> </div></div>'),(i=$(".modal-video")).on("hidden.bs.modal",function(){i.find(".modal-body").html("")})}i.find(".modal-body").html('<div class="modal-embed"><iframe src="//www.youtube.com/embed/'+(null===e?"C0DPdy98e4c":e)+'?modestbranding=0&autohide=1&autoplay=1&showinfo=0&controls=1" allowfullscreen=""></iframe></div>'),i.modal("show")}}}}();$(function(){SocialBase.init()});
